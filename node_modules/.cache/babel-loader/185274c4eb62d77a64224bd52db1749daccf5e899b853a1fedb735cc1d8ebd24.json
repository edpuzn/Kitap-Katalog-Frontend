{"ast":null,"code":"// eslint-disable-next-line\nimport { store } from \"@/components/store\";\nexport default {\n  name: 'App',\n  data() {\n    return {\n      store,\n      ready: false,\n      imgPath: process.env.VUE_APP_IMAGE_URL,\n      books: {},\n      currentFilter: 0\n    };\n  },\n  emits: ['error'],\n  beforeMount() {\n    fetch(`process.env.VUE_APP_API_URL` + \"/books\").then(response => response.json()).then(response => {\n      if (this.error) {\n        this.$emit('error', response.message);\n      } else {\n        this.books = response.data.books;\n        this.ready = true;\n      }\n    }).catch(error => {\n      this.$emit('error', error);\n    });\n  },\n  methods: {\n    setFilter: function (filter) {\n      this.currentFilter = filter;\n    }\n  }\n};","map":{"version":3,"names":["store","name","data","ready","imgPath","process","env","VUE_APP_IMAGE_URL","books","currentFilter","emits","beforeMount","fetch","then","response","json","error","$emit","message","catch","methods","setFilter","filter"],"sources":["/Users/ed1p_/MovieProject/frontend/src/components/Books.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">Books</h1>\n      </div>\n\n      <hr>\n      <div class=\"filters text-center\">\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 0 }\" v-on:click=\"setFilter(0)\">ALL</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 7 }\" v-on:click=\"setFilter(7)\">CLASSIC</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 2 }\" v-on:click=\"setFilter(2)\">FANTASY</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 6 }\" v-on:click=\"setFilter(6)\">HORROR</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 4 }\" v-on:click=\"setFilter(4)\">THRILLER</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 1 }\" v-on:click=\"setFilter(1)\">SCIENCE FICTION</span>\n      </div>\n\n      <hr>\n\n      <div>\n        <div class=\"card-group\">\n\n          <transition-group class=\"p-3 d-flex flex-wrap\" tag=\"div\" appear name=\"books\">\n\n            <div v-for=\"b in this.books\" :key=\"b.id\">\n              <div class=\"card me-2 ms-1 mb-3\" style=\"width: 10rem;\"\n                   v-if=\"b.genre_ids.includes(currentFilter) || currentFilter === 0\">\n\n                <img :src=\"`${this.imgPath}/covers/${b.slug}.jpg`\" class=\"card-img-top\"\n                     :alt=\"`cover for ${b.title}`\">\n\n                <div class=\"card-body text-center\">\n                  <h6 class=\"card-title\">{{b.title}}</h6>\n                  <span class=\"book-author\">{{b.author.author_name}}</span><br>\n                  <small class=\"text-muted book-genre\" v-for=\"(g, index) in b.genres\" v-bind:key=\"g.id\">\n                    <em class=\"me-1\">{{g.genre_name}}<template v-if=\"index !== (b.genres.length -1)\">,</template></em>\n                  </small>\n                </div>\n              </div>\n            </div>\n\n          </transition-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n// eslint-disable-next-line\nimport {store} from \"@/components/store\";\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      store,\n      ready: false,\n      imgPath: process.env.VUE_APP_IMAGE_URL,\n      books: {},\n      currentFilter: 0,\n    }\n  },\n  emits: ['error'],\n  beforeMount() {\n    fetch(`process.env.VUE_APP_API_URL` + \"/books\")\n        .then((response) => response.json())\n        .then((response) => {\n          if (this.error) {\n            this.$emit('error', response.message);\n          } else {\n            this.books = response.data.books;\n            this.ready = true;\n          }\n        })\n        .catch(error => {\n          this.$emit('error', error)\n        })\n  },\n  methods: {\n    setFilter: function(filter) {\n      this.currentFilter = filter;\n    }\n  },\n}\n</script>\n\n<style scoped>\n.filters {\n  height: 2.5em;\n}\n\n.filter {\n  padding: 6px 6px;\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.35s;\n  border: 1px solid silver;\n}\n\n.filter.active {\n  background: lightgreen;\n}\n\n.filter:hover {\n  background: lightgray;\n}\n\n\n.book-author, .book-genre {\n  font-size: 0.8em;\n}\n\n/* transition styles */\n.books-move {\n  transition: all 500ms ease-in-out 50ms;\n}\n\n.books-enter-active {\n  transition: all 500ms ease-in-out;\n}\n\n.books-leave-active {\n  transition: all 500ms ease-in;\n}\n\n.books-enter, .books-leave-to {\n  opacity: 0;\n}\n</style>"],"mappings":"AAkDA;AACA,SAAQA,KAAK,QAAO,oBAAoB;AAExC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLF,KAAK;MACLG,KAAK,EAAE,KAAK;MACZC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;MACtCC,KAAK,EAAE,CAAC,CAAC;MACTC,aAAa,EAAE;IACjB;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,OAAO,CAAC;EAChBC,WAAWA,CAAA,EAAG;IACZC,KAAK,CAAE,6BAA2B,GAAI,QAAQ,EACzCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,IAAI,CAACE,KAAK,EAAE;QACd,IAAI,CAACC,KAAK,CAAC,OAAO,EAAEH,QAAQ,CAACI,OAAO,CAAC;MACvC,OAAO;QACL,IAAI,CAACV,KAAI,GAAIM,QAAQ,CAACZ,IAAI,CAACM,KAAK;QAChC,IAAI,CAACL,KAAI,GAAI,IAAI;MACnB;IACF,CAAC,EACAgB,KAAK,CAACH,KAAI,IAAK;MACd,IAAI,CAACC,KAAK,CAAC,OAAO,EAAED,KAAK;IAC3B,CAAC;EACP,CAAC;EACDI,OAAO,EAAE;IACPC,SAAS,EAAE,SAAAA,CAASC,MAAM,EAAE;MAC1B,IAAI,CAACb,aAAY,GAAIa,MAAM;IAC7B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}