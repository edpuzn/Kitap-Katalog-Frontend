{"ast":null,"code":"import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, TransitionGroup as _TransitionGroup, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6881a9aa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"mt-3\"\n}, \"Books\")], -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"filters text-center\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"card-group\"\n};\nconst _hoisted_8 = {\n  class: \"card me-2 ms-1 mb-3\",\n  style: {\n    \"width\": \"10rem\"\n  }\n};\nconst _hoisted_9 = [\"src\", \"alt\"];\nconst _hoisted_10 = {\n  class: \"card-body text-center\"\n};\nconst _hoisted_11 = {\n  class: \"card-title\"\n};\nconst _hoisted_12 = {\n  class: \"book-author\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"me-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 0\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $options.setFilter(0))\n  }, \"ALL\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 7\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $options.setFilter(7))\n  }, \"CLASSIC\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 2\n    }]),\n    onClick: _cache[2] || (_cache[2] = $event => $options.setFilter(2))\n  }, \"FANTASY\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 6\n    }]),\n    onClick: _cache[3] || (_cache[3] = $event => $options.setFilter(6))\n  }, \"HORROR\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 4\n    }]),\n    onClick: _cache[4] || (_cache[4] = $event => $options.setFilter(4))\n  }, \"THRILLER\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 1\n    }]),\n    onClick: _cache[5] || (_cache[5] = $event => $options.setFilter(1))\n  }, \"SCIENCE FICTION\", 2 /* CLASS */)]), _hoisted_6, _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_TransitionGroup, {\n    class: \"p-3 d-flex flex-wrap\",\n    tag: \"div\",\n    appear: \"\",\n    name: \"books\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.books, b => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: b.id\n      }, [_withDirectives(_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n        to: `/books/${b.slug}`\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"img\", {\n          src: `${this.imgPath}/covers/${b.slug}.jpg`,\n          class: \"card-img-top\",\n          alt: `cover for ${b.title}`\n        }, null, 8 /* PROPS */, _hoisted_9)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h6\", _hoisted_11, _toDisplayString(b.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, _toDisplayString(b.author.author_name), 1 /* TEXT */), _hoisted_13, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(b.genres, (g, index) => {\n        return _openBlock(), _createElementBlock(\"small\", {\n          class: \"text-muted book-genre\",\n          key: g.id\n        }, [_createElementVNode(\"em\", _hoisted_14, [_createTextVNode(_toDisplayString(g.genre_name), 1 /* TEXT */), index !== b.genres.length - 1 ? (_openBlock(), _createElementBlock(_Fragment, {\n          key: 0\n        }, [_createTextVNode(\",\")], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])]);\n      }), 128 /* KEYED_FRAGMENT */))])], 512 /* NEED_PATCH */), [[_vShow, b.genre_ids.includes($data.currentFilter) || $data.currentFilter === 0]])]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  })])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","active","$data","currentFilter","onClick","_cache","$event","$options","setFilter","_hoisted_6","_hoisted_7","_createVNode","_TransitionGroup","tag","appear","name","default","_withCtx","_Fragment","_renderList","books","b","key","id","_hoisted_8","_component_router_link","to","slug","src","imgPath","alt","title","_hoisted_9","_","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","author","author_name","_hoisted_13","genres","g","index","_hoisted_14","_createTextVNode","genre_name","length","_createCommentVNode","genre_ids","includes"],"sources":["/Users/ed1p_/MovieProject/frontend/src/components/Books.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">Books</h1>\n      </div>\n\n      <hr>\n      <div class=\"filters text-center\">\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 0 }\" v-on:click=\"setFilter(0)\">ALL</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 7 }\" v-on:click=\"setFilter(7)\">CLASSIC</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 2 }\" v-on:click=\"setFilter(2)\">FANTASY</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 6 }\" v-on:click=\"setFilter(6)\">HORROR</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 4 }\" v-on:click=\"setFilter(4)\">THRILLER</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 1 }\" v-on:click=\"setFilter(1)\">SCIENCE FICTION</span>\n      </div>\n\n      <hr>\n\n      <div>\n        <div class=\"card-group\">\n\n          <transition-group class=\"p-3 d-flex flex-wrap\" tag=\"div\" appear name=\"books\">\n\n            <div v-for=\"b in this.books\" :key=\"b.id\">\n              <div class=\"card me-2 ms-1 mb-3\" style=\"width: 10rem;\"\n                   v-show=\"(b.genre_ids).includes(currentFilter) || currentFilter === 0\">\n                <router-link :to=\"`/books/${b.slug}`\">\n                  <img :src=\"`${this.imgPath}/covers/${b.slug}.jpg`\" class=\"card-img-top\"\n                       :alt=\"`cover for ${b.title}`\">\n                </router-link>\n                <div class=\"card-body text-center\">\n                  <h6 class=\"card-title\">{{b.title}}</h6>\n                  <span class=\"book-author\">{{b.author.author_name}}</span><br>\n                  <small class=\"text-muted book-genre\" v-for=\"(g, index) in b.genres\" v-bind:key=\"g.id\">\n                    <em class=\"me-1\">{{g.genre_name}}<template v-if=\"index !== (b.genres.length -1)\">,</template></em>\n                  </small>\n                </div>\n              </div>\n            </div>\n\n          </transition-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// eslint-disable-next-line\nimport {store} from \"@/components/store\";\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      store,\n      ready: false,\n      imgPath: process.env.VUE_APP_IMAGE_URL,\n      books: {},\n      currentFilter: 0,\n    }\n  },\n  emits: ['error'],\n  beforeMount() {\n    fetch(process.env.VUE_APP_API_URL + \"/books\")\n        .then((response) => response.json())\n        .then((response) => {\n          if (this.error) {\n            this.$emit('error', response.message);\n          } else {\n            this.books = response.data.books;\n            this.ready = true;\n          }\n        })\n        .catch(error => {\n          this.$emit('error', error)\n        })\n  },\n  methods: {\n    setFilter: function(filter) {\n      this.currentFilter = filter;\n    }\n  },\n}\n</script>\n\n<style scoped>\n.filters {\n  height: 2.5em;\n}\n\n.filter {\n  padding: 6px 6px;\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.35s;\n  border: 1px solid silver;\n}\n\n.filter.active {\n  background: lightgreen;\n}\n\n.filter:hover {\n  background: lightgray;\n}\n\n\n.book-author, .book-genre {\n  font-size: 0.8em;\n}\n\n/* transition styles */\n.books-move {\n  transition: all 500ms ease-in-out 50ms;\n}\n\n.books-enter-active {\n  transition: all 500ms ease-in-out;\n}\n\n.books-leave-active {\n  transition: all 500ms ease-in;\n}\n\n.books-enter, .books-leave-to {\n  opacity: 0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}