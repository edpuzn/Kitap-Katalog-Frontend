{"ast":null,"code":"import { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, TransitionGroup as _TransitionGroup, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6881a9aa\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"mt-3\"\n}, \"Books\")], -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"filters text-center\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"card-group\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"card me-2 ms-1 mb-3\",\n  style: {\n    \"width\": \"10rem\"\n  }\n};\nconst _hoisted_9 = [\"src\", \"alt\"];\nconst _hoisted_10 = {\n  class: \"card-body text-center\"\n};\nconst _hoisted_11 = {\n  class: \"card-title\"\n};\nconst _hoisted_12 = {\n  class: \"book-author\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"me-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 0\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $options.setFilter(0))\n  }, \"ALL\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 7\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $options.setFilter(7))\n  }, \"CLASSIC\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 2\n    }]),\n    onClick: _cache[2] || (_cache[2] = $event => $options.setFilter(2))\n  }, \"FANTASY\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 6\n    }]),\n    onClick: _cache[3] || (_cache[3] = $event => $options.setFilter(6))\n  }, \"HORROR\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 4\n    }]),\n    onClick: _cache[4] || (_cache[4] = $event => $options.setFilter(4))\n  }, \"THRILLER\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"filter me-1\", {\n      active: $data.currentFilter === 1\n    }]),\n    onClick: _cache[5] || (_cache[5] = $event => $options.setFilter(1))\n  }, \"SCIENCE FICTION\", 2 /* CLASS */)]), _hoisted_6, _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_7, [_createVNode(_TransitionGroup, {\n    class: \"p-3 d-flex flex-wrap\",\n    tag: \"div\",\n    appear: \"\",\n    name: \"books\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.books, b => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: b.id\n      }, [b.genre_ids.includes($data.currentFilter) || $data.currentFilter === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"img\", {\n        src: `${this.imgPath}/covers/${b.slug}.jpg`,\n        class: \"card-img-top\",\n        alt: `cover for ${b.title}`\n      }, null, 8 /* PROPS */, _hoisted_9), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h6\", _hoisted_11, _toDisplayString(b.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, _toDisplayString(b.author.author_name), 1 /* TEXT */), _hoisted_13, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(b.genres, (g, index) => {\n        return _openBlock(), _createElementBlock(\"small\", {\n          class: \"text-muted book-genre\",\n          key: g.id\n        }, [_createElementVNode(\"em\", _hoisted_14, [_createTextVNode(_toDisplayString(g.genre_name), 1 /* TEXT */), index !== b.genres.length - 1 ? (_openBlock(), _createElementBlock(_Fragment, {\n          key: 0\n        }, [_createTextVNode(\",\")], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])]);\n      }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  })])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","active","$data","currentFilter","onClick","_cache","$event","$options","setFilter","_hoisted_6","_hoisted_7","_createVNode","_TransitionGroup","tag","appear","name","default","_withCtx","_Fragment","_renderList","books","b","id","genre_ids","includes","_hoisted_8","src","imgPath","slug","alt","title","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","author","author_name","_hoisted_13","genres","g","index","_hoisted_14","_createTextVNode","genre_name","length","_createCommentVNode","_"],"sources":["/Users/ed1p_/MovieProject/frontend/src/components/Books.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">Books</h1>\n      </div>\n\n      <hr>\n      <div class=\"filters text-center\">\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 0 }\" v-on:click=\"setFilter(0)\">ALL</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 7 }\" v-on:click=\"setFilter(7)\">CLASSIC</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 2 }\" v-on:click=\"setFilter(2)\">FANTASY</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 6 }\" v-on:click=\"setFilter(6)\">HORROR</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 4 }\" v-on:click=\"setFilter(4)\">THRILLER</span>\n        <span class=\"filter me-1\" v-bind:class=\"{ active: currentFilter === 1 }\" v-on:click=\"setFilter(1)\">SCIENCE FICTION</span>\n      </div>\n\n      <hr>\n\n      <div>\n        <div class=\"card-group\">\n\n          <transition-group class=\"p-3 d-flex flex-wrap\" tag=\"div\" appear name=\"books\">\n\n            <div v-for=\"b in this.books\" :key=\"b.id\">\n              <div class=\"card me-2 ms-1 mb-3\" style=\"width: 10rem;\"\n                   v-if=\"b.genre_ids.includes(currentFilter) || currentFilter === 0\">\n\n                <img :src=\"`${this.imgPath}/covers/${b.slug}.jpg`\" class=\"card-img-top\"\n                     :alt=\"`cover for ${b.title}`\">\n\n                <div class=\"card-body text-center\">\n                  <h6 class=\"card-title\">{{b.title}}</h6>\n                  <span class=\"book-author\">{{b.author.author_name}}</span><br>\n                  <small class=\"text-muted book-genre\" v-for=\"(g, index) in b.genres\" v-bind:key=\"g.id\">\n                    <em class=\"me-1\">{{g.genre_name}}<template v-if=\"index !== (b.genres.length -1)\">,</template></em>\n                  </small>\n                </div>\n              </div>\n            </div>\n\n          </transition-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n// eslint-disable-next-line\nimport {store} from \"@/components/store\";\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      store,\n      ready: false,\n      imgPath: process.env.VUE_APP_IMAGE_URL,\n      books: {},\n      currentFilter: 0,\n    }\n  },\n  emits: ['error'],\n  beforeMount() {\n    fetch(`process.env.VUE_APP_API_URL` + `/books`)\n        .then((response) => response.json())\n        .then((response) => {\n          if (this.error) {\n            this.$emit('error', response.message);\n          } else {\n            this.books = response.data.books;\n            this.ready = true;\n          }\n        })\n        .catch(error => {\n          this.$emit('error', error)\n        })\n  },\n  methods: {\n    setFilter: function(filter) {\n      this.currentFilter = filter;\n    }\n  },\n}\n</script>\n\n<style scoped>\n.filters {\n  height: 2.5em;\n}\n\n.filter {\n  padding: 6px 6px;\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.35s;\n  border: 1px solid silver;\n}\n\n.filter.active {\n  background: lightgreen;\n}\n\n.filter:hover {\n  background: lightgray;\n}\n\n\n.book-author, .book-genre {\n  font-size: 0.8em;\n}\n\n/* transition styles */\n.books-move {\n  transition: all 500ms ease-in-out 50ms;\n}\n\n.books-enter-active {\n  transition: all 500ms ease-in-out;\n}\n\n.books-leave-active {\n  transition: all 500ms ease-in;\n}\n\n.books-enter, .books-leave-to {\n  opacity: 0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}