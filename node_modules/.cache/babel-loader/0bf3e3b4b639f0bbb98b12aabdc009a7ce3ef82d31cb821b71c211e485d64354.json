{"ast":null,"code":"import security from \"@/components/security\";\n// eslint-disable-next-line\nexport default {\n  name: 'App',\n  beforeMount() {\n    security.requireToken();\n  }\n};","map":{"version":3,"names":["security","name","beforeMount","requireToken"],"sources":["/Users/ed1p_/MovieProject/frontend/src/components/BookEdit.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">Add/Edit Book</h1>\n        <hr>\n\n        <form-tag @bookEditEvent=\"submitHandler\" name=\"bookForm\" event=\"bookEditEvent\">\n\n          <div v-if=\"this.book.slug !=''\" class=\"mb-3\">\n            <img :src=\"`${this.imgPath}/covers/${this.book.slug}.jpg`\" class=\"img-fluid img-thumbnail book-cover\" alt=\"cover\">\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"formFile\" class=\"form-label\">Cover Image</label>\n            <input v-if=\"this.book.id === 0\" ref=\"coverInput\" class=\"form-control\" type=\"file\" id=\"formFile\"\n                   required accept=\"image/jpeg\" @change=\"loadCoverImage\">\n            <input v-else ref=\"coverInput\" class=\"form-control\" type=\"file\" id=\"formFile\"\n                   accept=\"image/jpeg\" @change=\"loadCoverImage\">\n          </div>\n\n          <text-input\n              v-model=\"book.title\"\n              type=\"text\"\n              required=\"true\"\n              label=\"Title\"\n              :value=\"book.title\"\n              name=\"title\"></text-input>\n\n          <select-input\n              name=\"author-id\"\n              v-model=\"this.book.author_id\"\n              :items=\"this.authors\"\n              required=\"required\"\n              label=\"Author\"></select-input>\n\n          <text-input\n              v-model=\"book.publication_year\"\n              type=\"text\"\n              required=\"true\"\n              label=\"Publication Year\"\n              :value=\"book.publication_year\"\n              name=\"publication-year\"></text-input>\n\n          <div class=\"mb-3\">\n            <label for=\"description\" class=\"form-label\">Description</label>\n            <textarea required v-model=\"book.description\" class=\"form-control\" id=\"description\" rows=\"3\"></textarea>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"genres\" class=\"form-label\">Genres</label>\n            <select ref=\"genres\"\n                    id=\"genres\"\n                    class=\"form-select\"\n                    required\n                    size=\"7\"\n                    v-model=\"this.book.genre_ids\"\n                    multiple>\n              <option v-for=\"g in this.genres\" :value=\"g.value\" :key=\"g.value\">\n                {{g.text}}\n              </option>\n            </select>\n          </div>\n\n          <hr>\n\n          <div class=\"float-start\">\n            <input type=\"submit\" class=\"btn btn-primary me-2\" value=\"Save\" />\n            <router-link to=\"/admin/books\" class=\"btn btn-outline-secondary\">Cancel</router-link>\n          </div>\n          <div class=\"float-end\">\n            <a v-if=\"this.book.id > 0\"\n               class=\"btn btn-danger\" href=\"javascript:void(0);\" @click=\"confirmDelete(this.book.id)\">\n              Delete\n            </a>\n          </div>\n\n\n\n        </form-tag>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n\n\n<script>\nimport security from \"@/components/security\";\n// eslint-disable-next-line\nexport default {\n  name: 'App',\n  beforeMount() {\n    security.requireToken();\n  }\n}\n</script>\n"],"mappings":"AAyFA,OAAOA,QAAO,MAAO,uBAAuB;AAC5C;AACA,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,WAAWA,CAAA,EAAG;IACZF,QAAQ,CAACG,YAAY,CAAC,CAAC;EACzB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}