{"ast":null,"code":"import Header from \"./components/Header.vue\";\nimport Footer from \"./components/Footer.vue\";\nimport { store } from './components/store.js';\nimport notie from 'notie';\nimport TextInput from \"@/components/forms/TextInput.vue\";\nimport FormTag from \"@/components/forms/FormTag.vue\";\nconst getCookie = name => {\n  return document.cookie.split(\"; \").reduce((r, v) => {\n    const parts = v.split(\"=\");\n    return parts[0] === name ? decodeURIComponent(parts[1]) : r;\n  }, \"\");\n};\nexport default {\n  name: 'App',\n  components: {\n    FormTag,\n    TextInput,\n    Header,\n    Footer\n  },\n  data() {\n    return {\n      store\n    };\n  },\n  beforeMount() {\n    // check for a cookie\n    let data = getCookie(\"_site_data\");\n    if (data !== \"\") {\n      let cookieData = JSON.parse(data);\n\n      // update store\n      store.token = cookieData.token.token;\n      store.user = {\n        id: cookieData.user.id,\n        first_name: cookieData.user.first_name,\n        last_name: cookieData.user.last_name,\n        email: cookieData.user.email\n      };\n    }\n  },\n  methods: {\n    success(msg) {\n      notie.alert({\n        type: 'success',\n        text: msg\n      });\n    },\n    error(msg) {\n      notie.alert({\n        type: 'error',\n        text: msg\n      });\n    },\n    warning(msg) {\n      notie.alert({\n        type: 'warning',\n        text: msg\n      });\n    }\n  }\n};","map":{"version":3,"names":["Header","Footer","store","notie","TextInput","FormTag","getCookie","name","document","cookie","split","reduce","r","v","parts","decodeURIComponent","components","data","beforeMount","cookieData","JSON","parse","token","user","id","first_name","last_name","email","methods","success","msg","alert","type","text","error","warning"],"sources":["/Users/ed1p_/MovieProject/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">User</h1>\n        <hr>\n        <form-tag @userEditEvent=\"submitHandler\" name=\"userform\" event=\"userEditEvent\">\n\n          <text-input\n              v-model=\"user.first_name\"\n              type=\"text\"\n              required=\"true\"\n              label=\"First Name\"\n              :value=\"user.first_name\"\n              name=\"first-name\"></text-input>\n\n          <text-input\n              v-model=\"user.last_name\"\n              type=\"text\"\n              required=\"true\"\n              label=\"Last Name\"\n              :value=\"user.last_name\"\n              name=\"last-name\"></text-input>\n\n          <text-input\n              v-model=\"user.email\"\n              type=\"email\"\n              required=\"true\"\n              label=\"Email\"\n              :value=\"user.email\"\n              name=\"email\"></text-input>\n\n          <text-input\n              v-if=\"this.user.id === 0\"\n              v-model=\"user.password\"\n              type=\"password\"\n              required=\"true\"\n              label=\"Password\"\n              :value=\"user.password\"\n              name=\"password\"></text-input>\n\n          <text-input\n              v-else\n              v-model=\"user.password\"\n              type=\"password\"\n              label=\"Password\"\n              help=\"Leave empty to keep existing password\"\n              :value=\"user.password\"\n              name=\"password\"></text-input>\n\n          <hr>\n          <div class=\"float-start\">\n            <input type=\"submit\" class=\"btn btn-primary me-2\" value=\"Save\">\n            <router-link to=\"/admin/users\" class=\"btn btn-outline-secondary\">Cancel</router-link>\n          </div>\n          <div class=\"float-end\">\n            <a v-if=\"(this.$route.params.userId > 0) && (parseInt(String(this.$route.params.userId), 10) !== store.user.id)\"\n               class=\"btn btn-danger\" href=\"javascript:void(0);\" @click=\"confirmDelete(this.user.id)\">Delete</a>\n          </div>\n          <div class=\"clearfix\"></div>\n\n        </form-tag>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./components/Header.vue\"\nimport Footer from \"./components/Footer.vue\"\nimport {store} from './components/store.js'\nimport notie from 'notie'\nimport TextInput from \"@/components/forms/TextInput.vue\";\nimport FormTag from \"@/components/forms/FormTag.vue\";\n\nconst getCookie = (name) => {\n  return document.cookie.split(\"; \").reduce((r, v) => {\n    const parts = v.split(\"=\");\n    return parts[0] === name ? decodeURIComponent(parts[1]) : r;\n  }, \"\");\n}\n\nexport default {\n  name: 'App',\n  components: {\n    FormTag,\n    TextInput,\n    Header,\n    Footer,\n  },\n  data() {\n    return {\n      store\n    }\n  },\n  beforeMount() {\n    // check for a cookie\n    let data = getCookie(\"_site_data\");\n\n    if (data !== \"\") {\n      let cookieData = JSON.parse(data);\n\n      // update store\n      store.token = cookieData.token.token;\n      store.user = {\n        id: cookieData.user.id,\n        first_name: cookieData.user.first_name,\n        last_name: cookieData.user.last_name,\n        email: cookieData.user.email,\n      }\n    }\n  },\n  methods: {\n    success(msg) {\n      notie.alert({\n        type: 'success',\n        text: msg,\n      })\n    },\n    error(msg) {\n      notie.alert({\n        type: 'error',\n        text: msg,\n      })\n    },\n    warning(msg) {\n      notie.alert({\n        type: 'warning',\n        text: msg,\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"AAoEA,OAAOA,MAAK,MAAO,yBAAwB;AAC3C,OAAOC,MAAK,MAAO,yBAAwB;AAC3C,SAAQC,KAAK,QAAO,uBAAsB;AAC1C,OAAOC,KAAI,MAAO,OAAM;AACxB,OAAOC,SAAQ,MAAO,kCAAkC;AACxD,OAAOC,OAAM,MAAO,gCAAgC;AAEpD,MAAMC,SAAQ,GAAKC,IAAI,IAAK;EAC1B,OAAOC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAClD,MAAMC,KAAI,GAAID,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC;IAC1B,OAAOI,KAAK,CAAC,CAAC,MAAMP,IAAG,GAAIQ,kBAAkB,CAACD,KAAK,CAAC,CAAC,CAAC,IAAIF,CAAC;EAC7D,CAAC,EAAE,EAAE,CAAC;AACR;AAEA,eAAe;EACbL,IAAI,EAAE,KAAK;EACXS,UAAU,EAAE;IACVX,OAAO;IACPD,SAAS;IACTJ,MAAM;IACNC;EACF,CAAC;EACDgB,IAAIA,CAAA,EAAG;IACL,OAAO;MACLf;IACF;EACF,CAAC;EACDgB,WAAWA,CAAA,EAAG;IACZ;IACA,IAAID,IAAG,GAAIX,SAAS,CAAC,YAAY,CAAC;IAElC,IAAIW,IAAG,KAAM,EAAE,EAAE;MACf,IAAIE,UAAS,GAAIC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;;MAEjC;MACAf,KAAK,CAACoB,KAAI,GAAIH,UAAU,CAACG,KAAK,CAACA,KAAK;MACpCpB,KAAK,CAACqB,IAAG,GAAI;QACXC,EAAE,EAAEL,UAAU,CAACI,IAAI,CAACC,EAAE;QACtBC,UAAU,EAAEN,UAAU,CAACI,IAAI,CAACE,UAAU;QACtCC,SAAS,EAAEP,UAAU,CAACI,IAAI,CAACG,SAAS;QACpCC,KAAK,EAAER,UAAU,CAACI,IAAI,CAACI;MACzB;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAACC,GAAG,EAAE;MACX3B,KAAK,CAAC4B,KAAK,CAAC;QACVC,IAAI,EAAE,SAAS;QACfC,IAAI,EAAEH;MACR,CAAC;IACH,CAAC;IACDI,KAAKA,CAACJ,GAAG,EAAE;MACT3B,KAAK,CAAC4B,KAAK,CAAC;QACVC,IAAI,EAAE,OAAO;QACbC,IAAI,EAAEH;MACR,CAAC;IACH,CAAC;IACDK,OAAOA,CAACL,GAAG,EAAE;MACX3B,KAAK,CAAC4B,KAAK,CAAC;QACVC,IAAI,EAAE,SAAS;QACfC,IAAI,EAAEH;MACR,CAAC;IACH;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}